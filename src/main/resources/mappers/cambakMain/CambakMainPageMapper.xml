<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.cambak21.mappers.cambakMain.CambakMainPageMapper">

	
	
<!-- ===========================효원 매퍼 ============================================================================= -->	
<!-- 	DB에 있는 캠핑장 정보 개수 검색 -->
	<select id="getCampingsiteNum" resultType="int">
		select count(camping_no) from Campings where camping_firstImageUrl is not null
	</select>
	
<!-- 	랜덤 번호로 캠핑장에 사진이 있는지 없는지 체크 -->
	<select id="checkRandomCampingImg" resultType="int">
		select count(*) from Campings where camping_no = #{randomNo} and camping_firstImageUrl is not null;
	</select>
	
<!-- 	랜덤 캠핑장 3곳 조회 -->
	<select id="randomCapingsite" resultType="com.cambak21.domain.CampingVO">
		select * from Campings where camping_no = #{randomId}
	</select>

<!-- 	메인페이지에 캠핑 리뷰 게시판의 최신 게시글 5개 출력 -->
	<select id="readRecentReview" resultType="com.cambak21.domain.BoardVO">
		select * from Boards where board_category = 'camping' order by board_writeDate desc limit 0, 5
	</select>

<!-- 	메인페이지에 캠핑팁 게시판의 최신 게시글 5개 출력 -->
	<select id="readRecentTip" resultType="com.cambak21.domain.BoardVO">
		select * from Boards where board_category = 'Tip' order by board_writeDate desc limit 0, 5
	</select>
	
<!-- 	메인페이지에 캠박마켓 게시판의 최신 게시글 5개 출력 -->
	<select id="readRecentResell" resultType="com.cambak21.domain.ResellBoardVO">
		select * from ResellBoards order by resellBoard_postDate desc limit 0, 5
	</select>
	
<!-- 	메인페이지에 Q&A 게시판의 최신 게시글 5개 출력 -->
	<select id="readRecentQA" resultType="com.cambak21.domain.BoardVO">
		select * from Boards where board_category = 'QA' order by board_writeDate desc limit 0, 5
	</select>
	
<!-- 	메인페이지에 유머 게시판의 최신 게시글 5개 출력 -->
	<select id="readRecentHumor" resultType="com.cambak21.domain.BoardVO">
		select * from Boards where board_category = 'humor' order by board_writeDate desc limit 0, 5
	</select>
	
	
<!-- ===========================효원 매퍼 끝============================================================================= -->
		
<!-- ===========================도연 매퍼 ============================================================================= -->
	<select id="searchKeword">
	select * from Campings where camping_facltNm like '%캠핑장%' || camping_intro like '%캠핑장%' || camping_facltDivNm like '%캠핑장%' || camping_mangeDivNm like '%캠핑장%' || camping_featureNm like '%캠핑장%' || camping_induty like '%캠핑장%' || camping_lctCl like '%캠핑장%' ||
	camping_addr1 like '%캠핑장%' || camping_resveCl like '%캠핑장%' || camping_glampInnerFclty like '%캠핑장%' || camping_operPdCl like '%캠핑장%' || camping_operDeCl like '%캠핑장%' || camping_sbrsCl like '%캠핑장%' || camping_sbrsEtc like '%캠핑장%' || camping_posblFcltyCl like '%캠핑장%' || 
	camping_posblFcltyEtc like '%캠핑장%' || camping_themaEnvrnCl like '%캠핑장%' || camping_eqpmnLendCl like '%캠핑장%' || camping_animalCmgCl like '%캠핑장%'
	</select>






<!-- ===========================도연 매퍼 끝============================================================================= -->

<!-- ===========================정민 매퍼 ============================================================================= -->	


<!-- ===========================정민 매퍼 끝============================================================================= -->		
	
</mapper>